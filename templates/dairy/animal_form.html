{% extends 'base.html' %}
{% block page_title %}{% if animal %}Edit{% else %}Add{% endif %} Animal{% endblock %}
{% block content %}
<form method="post" enctype="multipart/form-data">{% csrf_token %}
<div class="card">
<div class="form-group"><label class="form-label">Animal Type *</label>
<select name="animal_type" class="form-control" required>
<option value="cow" {% if animal.animal_type == 'cow' %}selected{% endif %}>Cow</option>
<option value="sheep" {% if animal.animal_type == 'sheep' %}selected{% endif %}>Sheep</option>
</select></div>
<div class="form-group"><label class="form-label">Tag Number (ID) *</label>
<input type="text" name="tag_number" class="form-control" value="{{ animal.tag_number }}" required></div>
<div class="form-group"><label class="form-label">Name (Optional)</label>
<input type="text" name="name" class="form-control" value="{{ animal.name }}"></div>
<div class="form-group"><label class="form-label">Breed</label>
<input type="text" name="breed" class="form-control" value="{{ animal.breed }}"></div>
<div class="form-group"><label class="form-label">Gender *</label>
<select name="gender" class="form-control" required>
<option value="female" {% if animal.gender == 'female' %}selected{% endif %}>Female</option>
<option value="male" {% if animal.gender == 'male' %}selected{% endif %}>Male</option>
</select></div>
<div class="form-group"><label class="form-label">Date of Birth</label>
<input type="date" name="date_of_birth" class="form-control" value="{{ animal.date_of_birth|date:'Y-m-d' }}"></div>
<div class="form-group"><label class="form-label">Acquisition Cost (KSh)</label>
<input type="number" step="0.01" name="acquisition_cost" class="form-control" value="{{ animal.acquisition_cost|default:0 }}"></div>
{% if animal %}<div class="form-group"><label class="form-label">Status</label>
<select name="status" class="form-control">
<option value="active" {% if animal.status == 'active' %}selected{% endif %}>Active</option>
<option value="sold" {% if animal.status == 'sold' %}selected{% endif %}>Sold</option>
<option value="deceased" {% if animal.status == 'deceased' %}selected{% endif %}>Deceased</option>
</select></div>{% endif %}
<div class="form-group"><label class="form-label">Mother's Tag</label>
<input type="text" name="mother_tag" class="form-control" value="{{ animal.mother_tag }}"></div>
<div class="form-group"><label class="form-label">Father's Tag</label>
<input type="text" name="father_tag" class="form-control" value="{{ animal.father_tag }}"></div>
<div class="form-group"><label class="form-label">Photo</label>
<input type="file" name="photo" class="form-control" accept="image/*"></div>
<div class="form-group"><label class="form-label">Notes</label>
<textarea name="notes" class="form-control" rows="3">{{ animal.notes }}</textarea></div>
<button type="submit" class="btn btn-success">{% if animal %}Update{% else %}Add{% endif %} Animal</button>
</div>
</form>
{% endblock %}